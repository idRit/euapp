<!DOCTYPE html>
<html>
<head>
   <title></title>
<script src="js/jquery.min.js"></script>

   <meta charset="UTF-8">
   <meta content="IE=edge" http-equiv="X-UA-Compatible">
   <meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" name="viewport">
   <title>SWATCH BAHARAT</title>
   <!-- css -->
   <link href="css/base.min.css" rel="stylesheet">

   <!-- css for doc -->
   <link href="css/project.min.css" rel="stylesheet">
   
   <script src="js/jquery.min.js"></script>
   <script
  src="http://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
   <!-- js -->
   <script type="text/javascript" src="cordova.js"></script>
   <script src="js/base.min.js"></script>

   <!-- js for doc -->
   <script src="js/project.min.js"></script>

   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script type="text/javascript">
alert("INSIDE sent.html");
function aak(){
      alert("INSIDE FUNCTION");

      var xhr = new XMLHttpRequest();
      alert('UNSENT readyState will be 0', xhr.readyState); // readyState will be 0
      xhr.open('GET', 'https://evening-earth-33607.herokuapp.com/api/getAllNames', true);
      alert('OPENED readyState will be 1', xhr.readyState); // readyState will be 1

      xhr.onprogress = function () {
         alert('LOADING readyState will be 3', xhr.readyState); // readyState will be 3
      };

      xhr.onload = function () {
         alert('DONE readyState will be 4', xhr.readyState); // readyState will be 4
      };
      var headers = xhr.getAllResponseHeaders();
      var arr = headers.trim().split(/[\r\n]+/);
      alert (arr);

      xhr.send(null);

       $.ajax({
               url: "https://evening-earth-33607.herokuapp.com/api/getAllNames",
               success: function(data){
                     for (var i = 0; i < data.length; i++) {
                        alert(data[i]["name"]);
                     }
               },
               error: function (jqXHR, exception) {
                    var msg = '';
                    if (jqXHR.status === 0) {
                        msg = 'Not connect.\n Verify Network.';
                    } else if (jqXHR.status == 404) {
                        msg = 'Requested page not found. [404]';
                    } else if (jqXHR.status == 500) {
                        msg = 'Internal Server Error [500].';
                    } else if (exception === 'parsererror') {
                        msg = 'Requested JSON parse failed.';
                    } else if (exception === 'timeout') {
                        msg = 'Time out error.';
                    } else if (exception === 'abort') {
                        msg = 'Ajax request aborted.';
                    } else {
                        msg = 'Uncaught Error.\n' + jqXHR.responseText;
                    }
                     alert(msg);
                  }
               });         
   }
</script>
</head>
<body>
   <h3>AANSHUK</h3>
   <button onclick="aak();">aaaaaaaa</button>
</body>
</html>
